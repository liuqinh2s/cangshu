<!-- pages/website-detail/website-detail.wxml -->
<view class="container">
  <!-- ç½‘ç«™è¯¦æƒ… -->
  <view class="website-detail">
    <view class="website-title">{{website.title}}</view>
    <view class="website-url">{{website.url}}</view>
    <view class="website-description">{{website.description}}</view>
    <view class="website-tags">
      <text class="tag" wx:for="{{website.tags}}" wx:key="*this" wx:for-item="tag">{{tag}}</text>
    </view>
    <view class="website-meta">
      <text class="meta-item">åˆ†äº«è€…: {{website.user.nickname}}</text>
      <text class="meta-item">å‘å¸ƒæ—¶é—´: {{website.createdAt}}</text>
    </view>
  </view>
  
  <!-- æ“ä½œæŒ‰é’® -->
  <view class="actions">
    <button 
      class="action-btn {{website.isLiked ? 'liked' : ''}}" 
      bindtap="toggleLike"
    >
      {{website.isLiked ? 'â¤ï¸ å·²ç‚¹èµ' : 'ğŸ¤ ç‚¹èµ'}} ({{website.likeCount}})
    </button>
    <button 
      class="action-btn {{website.isCollected ? 'collected' : ''}}" 
      bindtap="toggleCollection"
    >
      {{website.isCollected ? 'â­ å·²æ”¶è—' : 'â˜† æ”¶è—'}} ({{website.collectionCount}})
    </button>
    <button class="action-btn" bindtap="openWebsite">
      æ‰“å¼€ç½‘ç«™
    </button>
  </view>
  
  <!-- è¯„è®ºåŒº -->
  <view class="comments-section">
    <view class="section-title">è¯„è®º ({{comments.length}})</view>
    
    <!-- è¯„è®ºåˆ—è¡¨ -->
    <view class="comments-list">
      <view class="comment-item" wx:for="{{comments}}" wx:key="_id">
        <view class="comment-header">
          <text class="comment-author">{{item.user.nickname}}</text>
          <text class="comment-time">{{item.createdAt}}</text>
        </view>
        <view class="comment-content">{{item.content}}</view>
      </view>
    </view>
    
    <!-- å‘è¡¨è¯„è®º -->
    <view class="comment-input-section">
      <input 
        class="comment-input" 
        placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." 
        bindinput="onCommentInput"
        value="{{commentContent}}"
      />
      <button class="send-btn" bindtap="submitComment">å‘é€</button>
    </view>
  </view>
</view>